import React from 'react'
import CriterionRating from '../CriterionRating/CriterionRating'
import styles from './review-card.module.css'
import userIcon from '../../../assets/icons/Users.svg'

export default function ReviewCard({
  reviewData,
  isUserReview = false,
  onEditClick = null,
  onDeleteClick = null,
}) {
  return (
    <div className={styles['review-card']}>
      <div className={styles['review-header']}>
        <img
          src={userIcon}
          alt="Иконка пользователя"
          className={styles['users-icon']}
        />
        <p className={styles['review-author']}>{reviewData?.user}</p>
        <p className={styles['review-rating']}>Общая оценка:</p>
        <p className={styles['rating-value-mini']}>
          {reviewData?.['avg_rating']}
        </p>
        {isUserReview && (
          <div className={styles['btn-wrapper']}>
            <button className={styles.edit} onClick={onEditClick}>
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M5.53999 19.52C4.92999 19.52 4.35999 19.31 3.94999 18.92C3.42999 18.43 3.17999 17.69 3.26999 16.89L3.63999 13.65C3.70999 13.04 4.07999 12.23 4.50999 11.79L12.72 3.09999C14.77 0.929988 16.91 0.869988 19.08 2.91999C21.25 4.96999 21.31 7.10999 19.26 9.27999L11.05 17.97C10.63 18.42 9.84999 18.84 9.23999 18.94L6.01999 19.49C5.84999 19.5 5.69999 19.52 5.53999 19.52ZM15.93 2.90999C15.16 2.90999 14.49 3.38999 13.81 4.10999L5.59999 12.81C5.39999 13.02 5.16999 13.52 5.12999 13.81L4.75999 17.05C4.71999 17.38 4.79999 17.65 4.97999 17.82C5.15999 17.99 5.42999 18.05 5.75999 18L8.97999 17.45C9.26999 17.4 9.74999 17.14 9.94999 16.93L18.16 8.23999C19.4 6.91999 19.85 5.69999 18.04 3.99999C17.24 3.22999 16.55 2.90999 15.93 2.90999Z"
                  fill="#666666"
                />
                <path
                  d="M17.3399 10.95C17.3199 10.95 17.2899 10.95 17.2699 10.95C14.1499 10.64 11.6399 8.26997 11.1599 5.16997C11.0999 4.75997 11.3799 4.37997 11.7899 4.30997C12.1999 4.24997 12.5799 4.52997 12.6499 4.93997C13.0299 7.35997 14.9899 9.21997 17.4299 9.45997C17.8399 9.49997 18.1399 9.86997 18.0999 10.28C18.0499 10.66 17.7199 10.95 17.3399 10.95Z"
                  fill="#666666"
                />
                <path
                  d="M21 22.75H3C2.59 22.75 2.25 22.41 2.25 22C2.25 21.59 2.59 21.25 3 21.25H21C21.41 21.25 21.75 21.59 21.75 22C21.75 22.41 21.41 22.75 21 22.75Z"
                  fill="#666666"
                />
              </svg>
            </button>
            <button className={styles.delete} onClick={onDeleteClick}>
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M20.9997 6.72998C20.9797 6.72998 20.9497 6.72998 20.9197 6.72998C15.6297 6.19998 10.3497 5.99998 5.11967 6.52998L3.07967 6.72998C2.65967 6.76998 2.28967 6.46998 2.24967 6.04998C2.20967 5.62998 2.50967 5.26998 2.91967 5.22998L4.95967 5.02998C10.2797 4.48998 15.6697 4.69998 21.0697 5.22998C21.4797 5.26998 21.7797 5.63998 21.7397 6.04998C21.7097 6.43998 21.3797 6.72998 20.9997 6.72998Z"
                  fill="#666666"
                />
                <path
                  d="M8.49977 5.72C8.45977 5.72 8.41977 5.72 8.36977 5.71C7.96977 5.64 7.68977 5.25 7.75977 4.85L7.97977 3.54C8.13977 2.58 8.35977 1.25 10.6898 1.25H13.3098C15.6498 1.25 15.8698 2.63 16.0198 3.55L16.2398 4.85C16.3098 5.26 16.0298 5.65 15.6298 5.71C15.2198 5.78 14.8298 5.5 14.7698 5.1L14.5498 3.8C14.4098 2.93 14.3798 2.76 13.3198 2.76H10.6998C9.63977 2.76 9.61977 2.9 9.46977 3.79L9.23977 5.09C9.17977 5.46 8.85977 5.72 8.49977 5.72Z"
                  fill="#666666"
                />
                <path
                  d="M15.2104 22.75H8.79039C5.30039 22.75 5.16039 20.82 5.05039 19.26L4.40039 9.18995C4.37039 8.77995 4.69039 8.41995 5.10039 8.38995C5.52039 8.36995 5.87039 8.67995 5.90039 9.08995L6.55039 19.16C6.66039 20.68 6.70039 21.25 8.79039 21.25H15.2104C17.3104 21.25 17.3504 20.68 17.4504 19.16L18.1004 9.08995C18.1304 8.67995 18.4904 8.36995 18.9004 8.38995C19.3104 8.41995 19.6304 8.76995 19.6004 9.18995L18.9504 19.26C18.8404 20.82 18.7004 22.75 15.2104 22.75Z"
                  fill="#666666"
                />
                <path
                  d="M13.6601 17.25H10.3301C9.92008 17.25 9.58008 16.91 9.58008 16.5C9.58008 16.09 9.92008 15.75 10.3301 15.75H13.6601C14.0701 15.75 14.4101 16.09 14.4101 16.5C14.4101 16.91 14.0701 17.25 13.6601 17.25Z"
                  fill="#666666"
                />
                <path
                  d="M14.5 13.25H9.5C9.09 13.25 8.75 12.91 8.75 12.5C8.75 12.09 9.09 11.75 9.5 11.75H14.5C14.91 11.75 15.25 12.09 15.25 12.5C15.25 12.91 14.91 13.25 14.5 13.25Z"
                  fill="#666666"
                />
              </svg>
            </button>
          </div>
        )}
      </div>

      <div className={styles['review-criteria']}>
        {reviewData.criteria.map(({ criterion, rating }, index) => (
          <CriterionRating
            key={index}
            rating={rating}
            criterionName={criterion}
          />
        ))}
      </div>

      {reviewData?.comment && (
        <p className={styles.description}>{reviewData?.comment}</p>
      )}

      <div className={styles['review-footer']}>
        <p className={styles['review-date']}>
          Дата публикации: {reviewData?.['created_at']}
        </p>
        {/* <p className={styles['opinion']}>Был ли отзыв полезен?</p>
        <button>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M8.38965 18.49V8.32998C8.38965 7.92998 8.50965 7.53998 8.72965 7.20998L11.4596 3.14998C11.8896 2.49998 12.9596 2.03998 13.8696 2.37998C14.8496 2.70998 15.4996 3.80997 15.2896 4.78997L14.7696 8.05998C14.7296 8.35998 14.8096 8.62998 14.9796 8.83998C15.1496 9.02998 15.3996 9.14997 15.6696 9.14997H19.7796C20.5696 9.14997 21.2496 9.46997 21.6496 10.03C22.0296 10.57 22.0996 11.27 21.8496 11.98L19.3896 19.47C19.0796 20.71 17.7296 21.72 16.3896 21.72H12.4896C11.8196 21.72 10.8796 21.49 10.4496 21.06L9.16965 20.07C8.67965 19.7 8.38965 19.11 8.38965 18.49Z"
              fill="#DDDDDD"
            />
            <path
              d="M5.21 6.38H4.18C2.63 6.38 2 6.98 2 8.46V18.52C2 20 2.63 20.6 4.18 20.6H5.21C6.76 20.6 7.39 20 7.39 18.52V8.46C7.39 6.98 6.76 6.38 5.21 6.38Z"
              fill="#DDDDDD"
            />
          </svg>
        </button>
        <button>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M15.61 5.50002V15.66C15.61 16.06 15.49 16.45 15.27 16.78L12.54 20.84C12.11 21.49 11.04 21.95 10.13 21.61C9.15002 21.28 8.50002 20.18 8.71002 19.2L9.23002 15.93C9.27002 15.63 9.19002 15.36 9.02002 15.15C8.85002 14.96 8.60002 14.84 8.33002 14.84H4.22002C3.43002 14.84 2.75002 14.52 2.35002 13.96C1.97002 13.42 1.90002 12.72 2.15002 12.01L4.61002 4.52002C4.92002 3.28002 6.27002 2.27002 7.61002 2.27002H11.51C12.18 2.27002 13.12 2.50002 13.55 2.93002L14.83 3.92002C15.32 4.30002 15.61 4.88002 15.61 5.50002Z"
              fill="#DDDDDD"
            />
            <path
              d="M18.7904 17.61H19.8204C21.3704 17.61 22.0004 17.01 22.0004 15.53V5.48002C22.0004 4.00002 21.3704 3.40002 19.8204 3.40002H18.7904C17.2404 3.40002 16.6104 4.00002 16.6104 5.48002V15.54C16.6104 17.01 17.2404 17.61 18.7904 17.61Z"
              fill="#DDDDDD"
            />
          </svg>
        </button> */}
      </div>
    </div>
  )
}
